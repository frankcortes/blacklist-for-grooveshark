!function(a,b){var c=function(){this.blackList=localStorage.blackList&&JSON.parse(localStorage.blackList),this.blackList=this.blackList||[]},d={get:function(){return this.blackList},add:function(a){this.contains(a)||this.blackList.push(a.songID),this.sync()},remove:function(a){this.contains(a)&&(this.blackList=b.without(this.blackList,a.songID)),this.sync()},contains:function(a){return-1!==this.blackList.indexOf(a.songID)},sync:function(){localStorage.blackList=JSON.stringify(this.blackList)}};b.extend(c.prototype,d);var e=function(){this.blackList=new c,a.setSongStatusCallback(b.bind(this.filterBlackList,this))},f={filterBlackList:function(b){var c=b.song,d=b.status;c&&"loading"===d&&this.blackList.contains(c)&&a.removeCurrentSongFromQueue()}};b.extend(e.prototype,f);var e=new e,g={addSongInBlackListFromSongID:function(a){this.blackList.add({songID:a})},getSongsInBlackList:function(){return this.blackList.get()},removeSongInBlackListFromSongID:function(a){this.blackList.remove({songID:a})}};b.each(g,function(a,c){g[c]=b.bind(a,e)}),b.extend(Grooveshark,g)}(Grooveshark,_),function(a,b,c){var d=function(){this.initializeButtons(),this.initializeEvents()},e="icon-ex-gray-flat",f="icon-ex-gray-outline",g={initializeButtons:function(){var a=this;c(".module-row.song").each(function(){var b=c(this).find(".row-actions.secondary"),d=b.find(".btn-group"),f=d.children("a").first().data("song-id"),g=Grooveshark.getSongsInBlackList();console.log(b),d.prepend('<a \n                    class="btn btn-small btn-icon-only banned song-row-banned"                    data-song-id="'+f+'">                    <i class="icon ex '+e+'"></i></a>'),b.css("width","120px !important"),-1!==g.indexOf(f)&&a._toogleButtons(b.find(".song-row-banned"))})},initializeEvents:function(){var b=this;c(".song-row-banned").click(function(){var d=c(this).data("song-id"),f=c(this).find(".icon"),g=f.hasClass(e)?"remove":"Add";"remove"===g?"undefined"!=typeof a.addSongInBlackListFromSongID&&a.addSongInBlackListFromSongID(d):"undefined"!=typeof a.removeSongInBlackListFromSongID&&a.removeSongInBlackListFromSongID(d),b._toogleButtons(c(this))})},_toogleButtons:function(a){var b=a.find(".icon"),c=b.hasClass(e)?e:f,d=b.hasClass(f)?f:e;b.removeClass(c),b.addClass(d)}};b.extend(d.prototype,g);new d}(Grooveshark,_,jQuery);