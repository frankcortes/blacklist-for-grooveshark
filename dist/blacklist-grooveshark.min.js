!function(a,b){var c=[],d=function(){this.blackList=localStorage.blackList&&JSON.parse(localStorage.blackList),this.blackList=this.blackList||c},e={get:function(){return this.blackList},add:function(a){this.contains(a)||this.blackList.push(a.songID),this.sync()},remove:function(a){this.contains(a)&&(this.blackList=b.without(this.blackList,a.songID)),this.sync()},contains:function(a){return-1!==this.blackList.indexOf(a.songID)},sync:function(){localStorage.blackList=JSON.stringify(this.blackList)}};b.extend(d.prototype,e);var f=function(){console.log("%c created class!","background-color: yellow;"),this.blackList=new d,a.setSongStatusCallback(b.bind(this.filterBlackList,this))},g={filterBlackList:function(b){var c=b.song,d=b.status;c&&"loading"===d&&this.blackList.contains(c)&&(a.removeCurrentSongFromQueue(),console.log("%c removed the song %s in event %s","background-color: yellow",c.songName,d))}};b.extend(f.prototype,g);var f=new f,h={addSongInBlackListFromSongID:function(a){this.blackList.add({songID:a})},getSongsInBlackList:function(){return this.blackList.get()},removeSongInBlackListFromSongID:function(a){this.blackList.remove({songID:a})}};b.each(h,function(a,c){h[c]=b.bind(a,f)}),b.extend(Grooveshark,h)}(Grooveshark,_),function(a,b,c){var d=function(){this.initializeButtons(),this.initializeEvents()},e={initializeButtons:function(){var a=this;c(".module-row.song").each(function(){var b=c(this).find(".row-actions.secondary"),d=b.find(".btn-group"),e=d.children("a").first().data("song-id"),f=Grooveshark.getSongsInBlackList();console.log(b),d.prepend('<a class="btn btn-small btn-icon-only banned song-row-banned"  data-song-id="'+e+'"><i class="icon ex icon-ex-gray-flat"></i></a>'),b.css("width","120px !important"),-1!==f.indexOf(e)&&a._toogleButtons(b.find(".song-row-banned"))})},initializeEvents:function(){var b=this;c(".song-row-banned").click(function(){var d=c(this).data("song-id"),e=c(this).find(".icon"),f=e.hasClass("icon-ex-gray-flat")?"remove":"Add";"remove"===f?"undefined"!=typeof a.addSongInBlackListFromSongID&&a.addSongInBlackListFromSongID(d):"undefined"!=typeof a.removeSongInBlackListFromSongID&&a.removeSongInBlackListFromSongID(d),b._toogleButtons(c(this))})},_toogleButtons:function(a){var b=a.find(".icon"),c=b.hasClass("icon-ex-gray-flat")?"icon-ex-gray-flat":"icon-ex-gray-outline",d=b.hasClass("icon-ex-gray-flat")?"icon-ex-gray-outline":"icon-ex-gray-flat";b.removeClass(c),b.addClass(d)}};b.extend(d.prototype,e);new d}(Grooveshark,_,jQuery);